{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',
  extends: [
    'config:recommended',
    ':dependencyDashboard',
    ':semanticCommits',
    ':timezone(America/Toronto)',
    ':prHourlyLimit4',
  ],
  flux: {
    managerFilePatterns: [
      '/(^|/)flux/.+\\.ya?ml$/',
    ],
  },
  kubernetes: {
    managerFilePatterns: [
      '/(^|/)flux/.+\\.ya?ml$/',
    ],
  },
  packageRules: [
    {
      matchManagers: [
        '*',
      ],
      minimumReleaseAge: '3 days',
      // https://docs.renovatebot.com/configuration-options/#internalchecksassuccess
      // There are no other repository checks at the time of writing, so need to allow
      // Renovate's internal checks to make the PR. Automerge is not enabled, so this
      // only creates the PR.
      internalChecksAsSuccess: true,
    },
    {
      matchManagers: ['*'],
      matchDatasources: ['docker'],
      // GHCR doesn't yet support release timestamps, see:
      // https://docs.renovatebot.com/key-concepts/minimum-release-age/#which-datasources-support-release-timestamps
      // This effectively disables minimumReleaseAge for GHCR packages. This was the default
      // prior to Renovate 42.
      matchDepNames: ['/^ghcr\.io\//'],
      minimumReleaseAgeBehaviour: 'timestamp-optional',
    }
  ],
}
